version: '3'

services:
  golang:
    build:
      context: .
      args:
        ENV: ${ENV}
    container_name: ${PROJECT_NAME}
    restart: always
    ports:
      - 9999:8080
    environment:
      - ENV=${ENV} # 各站環境變數
    volumes:
      - .:/go/src/${PROJECT_NAME}
      - ${LOG}:/home/log
      - ${IMG}:/home/images
      - /etc/localtime:/etc/localtime:ro # 美東時間
    networks:
      - web_service
networks:
  web_service:
    external: true